# Set Module Name
SET(MODULE_NAME nodeeditor)

# message
MESSAGE( STATUS "Configuring module: ${MODULE_NAME} ...")

# Include Directories
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})
INCLUDE_DIRECTORIES(${ECHO_ROOT_PATH})

# Link Directories
LINK_DIRECTORIES(${CMAKE_LIBRARY_OUTPUT_DIRECTORY})

# Find Qt Packages
TARGET_FIND_QTPACKAGES(${MODULE_NAME})

# Recursive get all files
FILE(GLOB_RECURSE ALL_FILES *.h *.hpp *.inl *.c *.cpp *.mm)
FILE(GLOB_RECURSE UI_FILES  ${CMAKE_CURRENT_SOURCE_DIR}/*.ui)

# Group
GROUP_FILES(ALL_FILES ${CMAKE_CURRENT_SOURCE_DIR})

# Qt Generate files
GROUP_QT_UI_FILES(QT_GENERATE_FILES UI_FILES ${CMAKE_CURRENT_SOURCE_DIR})
GROUP_QT_MOC_FILES(QT_GENERATE_FILES ALL_FILES)

# Add library
ADD_LIBRARY(${MODULE_NAME} ${ALL_FILES} ${UI_FILES} ${QT_GENERATE_FILES} CMakeLists.txt)

# Link Qt libraries
TARGET_LINK_QTLIBRARIES(${MODULE_NAME})

# Set Folder
SET_TARGET_PROPERTIES(${MODULE_NAME} PROPERTIES FOLDER "thirdparty")

# Message
MESSAGE(STATUS "Configure success!")
