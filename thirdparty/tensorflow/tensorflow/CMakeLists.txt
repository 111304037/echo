MESSAGE(STATUS "configuring module: baseserver...")

# 附加包含目录
SET(INCLUDE_FILES
	${CMAKE_CURRENT_SOURCE_DIR}
	${CMAKE_CURRENT_SOURCE_DIR}/../third_party/eigen3
	${ECHO_ROOT_PATH}/thirdparty/tensorflow
)

INCLUDE_DIRECTORIES( ${INCLUDE_FILES})

# 链接库
LINK_DIRECTORIES(${CMAKE_LIBRARY_OUTPUT_DIRECTORY})
LINK_LIBRARIES()

# 设置项目路径
SET(MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR})

# 递归获取所有c++文件
FILE(GLOB_RECURSE HEADER_FILES ${MODULE_PATH}/*.h ${MODULE_PATH}/*.inl)
FILE(GLOB_RECURSE SOURCE_FILES ${MODULE_PATH}/*.cpp ${MODULE_PATH}/*.mm ${MODULE_PATH}/*.c ${MODULE_PATH}/*.cc)
SET(ALL_FILES ${HEADER_FILES} ${SOURCE_FILES})

EXCLUDE_FILES(ALL_FILES GLOB_RECURSE ${MODULE_PATH}/*_test.cc)

# 分组文件
GROUP_FILES(ALL_FILES ${CMAKE_CURRENT_SOURCE_DIR})

# 设置模块名称
SET(MODULE_NAME tensorflow)

# 新加库
ADD_LIBRARY(${MODULE_NAME} STATIC ${HEADER_FILES} ${SOURCE_FILES} CMakeLists.txt)

# 设置目标属性
SET_TARGET_PROPERTIES(${MODULE_NAME} PROPERTIES FOLDER "thirdparty")

MESSAGE(STATUS "baseserver configure success!")


