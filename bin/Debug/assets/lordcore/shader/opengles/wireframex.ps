#version 100

uniform samplerCube cubeMap;

varying mediump vec4 color;
varying mediump vec3 normal;
void main(void)
{
	mediump vec3 texcoord = normalize(normal);
	mediump vec3 env_color = textureCube(cubeMap,texcoord ).xyz;//color*0.00001 + vec4(1.0, 0.0, 0.0, 1.0);
	gl_FragColor = vec4(env_color.xyz, 1.0) + color * 0.000001;
}