#version 100

uniform sampler2D texSampler;

varying mediump vec4 color;
varying mediump vec4 texCoord;

void main(void)
{
    mediump vec3 rgb_color = texture2D(texSampler, texCoord.xy ).xyz;
	 
	  mediump vec3 a_color = texture2D(texSampler, texCoord.zw ).xyz;
	
    if(a_color.x < 0.5 )
    {
        discard;
    }
	
    gl_FragColor = vec4(rgb_color, a_color.x)*color;
}