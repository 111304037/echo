#version 100
precision highp float;

#include <hdr_ldr.inc>

uniform sampler2D tInput;
varying highp vec2 texCoord;

void main(void)
{
	float A = 0.25 / 256.0;;
	
	gl_FragColor = 0.25 * (texture2d_ldr2hdr(tInput, texCoord + vec2(A, A)) + texture2d_ldr2hdr(tInput, texCoord + vec2(A, -A)) + texture2d_ldr2hdr(tInput, texCoord + vec2(-A, A)) + texture2d_ldr2hdr(tInput, texCoord + vec2(-A, -A)));
	gl_FragColor = hdr2ldr(gl_FragColor);
}