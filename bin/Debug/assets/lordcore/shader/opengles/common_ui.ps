#version 100
precision mediump float;

#include <fog_ps.inc>

uniform sampler2D texSampler;

varying vec4 color;
varying vec2 texCoord;

varying vec4 ofogColor;

void main(void)
{
	vec4 textureColor = texture2D(texSampler, texCoord);
	vec4 finalColor = textureColor * color;
    
    gl_FragColor = vec4(mix(ofogColor.rgb, finalColor.rgb, ofogColor.a), finalColor.a);
	gl_FragColor.rgb = mix(gl_FragColor.rgb, varHeightFog.rgb, ComputeHeightFog(varHeightFog.a));
}