#version 100

uniform sampler2D texSampler;

varying mediump vec4 color;
varying mediump vec2 texCoord;

void main(void)
{
	mediump vec4 temp = vec4(1.0, 1.0, 1.0, texture2D(texSampler, texCoord).a);
	gl_FragColor = temp * color;
	
	mediump float gray_value = dot( gl_FragColor.xyz, vec3(0.299, 0.587, 0.114) );
	gl_FragColor.xyz = vec3( gray_value, gray_value, gray_value );	
}